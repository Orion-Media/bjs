Object.defineProperty(Object.prototype,"getField",{value:function(e){if(""===e)return this;let t,s=this,r=e.toString().split("."),i=r.length;for(t=0;t<i;t++){if(void 0===s[r[t]])return;s=s[r[t]]}return s}}),Object.defineProperty(Object.prototype,"setField",{value:function(e,t){let s,r=this,i=e.toString().split("."),n=i.length;for(s=0;s<n-1;s++)void 0===r[i[s]]&&(r[i[s]]={}),r=r[i[s]];r[i[n-1]]=t}});const evente=function(e,t,s){return new EventeApplication(e,t,s)};Object.defineProperty(evente,"pipes",{get:function(){return EventePipes}}),evente.resource=function(e,t){return new EventeResource(e,t)};class EventeExpression{constructor(e){this.expression=e,this.tree=this.parse(e.trim())}eval(e,t,s){let r,i;switch(void 0===t&&(t=this.tree),typeof t){case"string":r=s?t:e.get(t);break;case"number":r=t;break;default:switch(t.type){case"+":case"-":case"*":case"/":for(let s in t.params)void 0!==(i=this.eval(e,t.params[s]))&&null!==i&&(void 0!==r&&"number"!=typeof r||"number"==typeof i||(i=this.parse_number(i)),r=void 0===r?i:EventeExpression.operations[t.type].eval(r,i));break;case"&":case"?":case"=":case"#":r=[];for(let s in t.params)i=this.eval(e,t.params[s]),r.push(this.parse_number(i)),r.length>1&&(r=[EventeExpression.operations[t.type].eval(r[0],r[1])]);r=r[0];break;case"!":r=!this.eval(e,t.params[0]);break;case"value":r=this[s?"property":"eval"](e,t.params[0]);break;case".":r=s?void 0!==(r=this.property(e,t.params[0]))?r+"."+t.params[1]:void 0:void 0!==(r=this.eval(e,t.params[0]))?r.getField(t.params[1]):void 0;break;case"[]":r=t.params[0]+"."+this.eval(e,t.params[1]),s||(r=e.get(r));break;case"|":let n=[];for(let s in t.params)n.push(this.eval(e,t.params[s]));r=EventePipes[t.name](n)}}return r}property(e,t){return this.eval(e,t,!0)}getLinks(e){void 0===e&&(e=this.tree);let t,s=[];switch(typeof e){case"number":break;case"string":e.endsWith(".length")&&(e=e.substr(0,e.length-7)),e.endsWith(".keys")&&(e=e.substr(0,e.length-5)),s.push(e);break;default:switch(e.type){case".":s.push(...this.getLinks(e.params[0]));break;default:for(t in e.params)s.push(...this.getLinks(e.params[t]))}}return s}preparse(e){return e=this.parse_unclosed(e),"{{"+this.parse_strings(e)+"}}"}parse(e){return e=this.parse_unclosed(e),e=this.parse_strings(e),e=this.parse_operations(e),this.expression=e,this.parse_tree(this.parse_tokens(e))}parse_unclosed(e){let t,s,r=0,i="",n=/{{.*?}}/gm,a=new RegExp(["=","!=","!","&&","\\|\\|","-","\\+","\\*","\\/","\\[","]","\\(","\\)","\\|",":"].join("|"));for(s=n.exec(e);s;)s.index!==r&&(t=e.substr(r,s.index-r),i+="strings."+EventeStrings.getIndex(t)+" + ",r=s.index),t=s[0].substr(2,s[0].length-4).trim(),a.test(t)&&(t="("+t+")"),i+=t+" + ",r+=s[0].length,s=n.exec(e);return(t=e.substr(r)).length&&(i+="strings."+EventeStrings.getIndex(t)),i.endsWith(" + ")&&(i=i.substr(0,i.length-3)),i.startsWith("(")&&i.endsWith(")")&&!i.match(/^\(.*(\(|\)).*\)$/)&&(i=i.substr(1,i.length-2)),i}parse_strings(e){let t="",s=0,r={start:0},i=/['"]/gm,n=i.exec(e);for(;n;)r.start?r.delim===n[0]&&(r.string=e.substr(r.start,n.index-r.start),r.index=EventeStrings.getIndex(r.string),t+="strings."+r.index,r.start=0):(r.start=n.index+1,r.delim=n[0],t+=e.substr(s,n.index-s)),s=n.index+1,n=i.exec(e);return s<e.length&&(t+=e.substr(s)),t}parse_operations(e){return e=(e=(e=(e=e.replace(/&&/g,"&")).replace(/\|\|/g,"?")).replace(/==/g,"=")).replace(/!=/g,"#")}parse_tokens(e){let t,s,r=0,i=/[!&?=#\-+*/[\]()|:]/gm,n=[];for(r=0,i.lastIndex=0,s=i.exec(e);s;)s.index!==r&&((t=e.substr(r,s.index-r).trim()).length&&n.push(e.substr(r,s.index-r).trim()),r=s.index),n.push(s[0].trim()),r+=s[0].length,s=i.exec(e);return(t=e.substr(r).trim()).length&&n.push(t),n}parse_tree(e,t){let s;for(void 0===t&&(t={}),void 0===t.params&&(t.params=[]);e.length;)switch(s=e.shift()){case"-":case"+":case"*":case"/":case"&":case"?":case"=":case"#":case"!":if(void 0===t.type){t.type=s;continue}if(t.type===s)break;EventeExpression.operations[t.type].priority>=EventeExpression.operations[s].priority?t={type:s,params:[t]}:t.params.push(this.parse_tree(e,{type:s,params:[t.params.pop()]}));break;case"(":t.params.push(this.parse_tree(e));break;case")":return void 0===t.type&&(t.type="value"),t;case"[":void 0===t.type?(t.type="[]",t.params.push(this.parse_tree(e))):t.params.push({type:"[]",params:[t.params.pop(),this.parse_tree(e)]});break;case"]":return void 0===t.type&&(t.type="value"),t;case"|":for(void 0!==t.type&&(t={params:[t]}),t.type="|",t.name=e.shift(),s=e.shift();":"===s;)t.params.push(this.parse_tree(e)),s=e.shift();void 0!==s&&e.unshift(s);break;case":":return e.unshift(s),t.params.length?(void 0===t.type&&(t.type="value"),t):"";default:"."==s[0]?(s=s.substr(1),void 0===t.type?(t.type=".",t.params.push(s)):EventeExpression.operations[t.type].priority>=EventeExpression.operations["."].priority?t={type:".",params:[t,s]}:t.params.push({type:".",params:[t.params.pop(),s]})):t.params.push(this.parse_number(s))}return void 0===t.type&&(t.type="value"),t}parse_number(e){let t=parseFloat(e);return isNaN(t)||t.toString()!=e?e:t}}EventeExpression.operations={"+":{priority:0,eval:function(e,t){return e+t}},"-":{priority:0,eval:function(e,t){return e-t}},"*":{priority:1,eval:function(e,t){return e*t}},"/":{priority:1,eval:function(e,t){return e/t}},"&":{priority:2,eval:function(e,t){return Boolean(e&&t)}},"?":{priority:2,eval:function(e,t){return Boolean(e||t)}},"=":{priority:3,eval:function(e,t){return Boolean(e==t)}},"#":{priority:3,eval:function(e,t){return Boolean(e!=t)}},"!":{priority:4},".":{priority:5},"[]":{priority:6},"|":{priority:7}};class EventeAttribute extends EventeExpression{constructor(e,t,s){super(e.attributes[t].value),this.name=t,this.node=e,this.model=s}apply(){let e=this.eval(this.model);e=void 0!==e?e.toString():"",this.node.getAttribute(this.name)!==e&&this.node.setAttribute(this.name,e)}static check(e,t){let s=e.getAttribute(t).trim();return s.startsWith("{{")?s:"{{"+s+"}}"}static getAttributes(){if(EventeAttribute.attributesByPriorty.length!==Object.keys(EventeAttribute.attributes).length){let e=[];for(let t in EventeAttribute.attributes)e.push({name:t,priority:EventeAttribute.attributes[t].priority});e.sort((e,t)=>e.priority>t.priority?-1:e.priority<t.priority?1:0),EventeAttribute.attributesByPriorty=e}return EventeAttribute.attributesByPriorty}}EventeAttribute.attributes={},EventeAttribute.attributesByPriorty=[],EventeAttribute.priority=0;class EventeApplication{constructor(e,t,s){s={clean:!1,router:!0,run:!0,...s},this.element=document.querySelector(e),this.model=new EventeModel(this.element,t),this.model.proxy=new Proxy({$:""},new EventeModelProxyHandler(this.model)),s.clean&&this.clean(),s.router&&(this.router=new EventeRouter(this.element)),s.run&&this.run()}get data(){return this.model.data}set data(e){this.model.data=e,EventeParser.parseNode(this.element,this.model)}route(e,t,s){this.router&&(t?this.router.add(e,t,s):this.router.remove(e))}run(){EventeParser.parseNode(this.element,this.model),this.router&&this.router.trigger()}clean(){let e,t=[],s=document.createTreeWalker(document,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,null,!1);for(;e=s.nextNode();)switch(e.nodeType){case Node.TEXT_NODE:e.nodeValue.match(/[^\s\n]/m)||t.push(e);break;case Node.COMMENT_NODE:t.push(e)}for(e in t)t[e].remove()}}class EventeAttributeBase extends EventeAttribute{constructor(e,t,s){let r=e.attributes[t],i=r.value.match(/^{{(.*?)(\s+as\s+([a-z0-9_]+))}}$/im);r.value="{{"+i[1]+"}}",super(e,t,s),this.alias=i[3],this.apply()}apply(){let e,t,s=this.node.childNodes,r=this.property(this.model);for(e=0;e<s.length;e++)t=s[e],this.dealias(t,this.alias,r)}dealias(e,t,s){let r,i=new RegExp("(^|[^a-z])"+t.replace(/\./g,"\\.")+"([^a-z]|$)","gim"),n=new RegExp("{{");if(e instanceof Text)return e.e_base?r=e.e_base.replace(i,"$1"+s+"$2"):(r=e.nodeValue).match(n)&&(r=this.preparse(r)).match(i)&&(e.e_base=r,r=r.replace(i,"$1"+s+"$2")),void(e.nodeValue!==r&&(e.nodeValue=r,EventeParser.parseAttributes(e,this.model),this.model.applyAttributes(e)));e.e_base=e.e_base||{};let a,o,l=e.attributes;for(a=0;a<l.length;a++)o=l[a],e.e_base[o.name]?r=e.e_base[o.name].replace(i,"$1"+s+"$2"):(r=EventeAttribute.attributes[o.name]?EventeAttribute.attributes[o.name].check(e,o.name):o.value,(r=this.preparse(r)).match(i)&&(e.e_base[o.name]=r,r=r.replace(i,"$1"+s+"$2"))),o.value!==r&&(o.value=r,EventeParser.parseAttribute(e,o.name,this.model),this.model.applyAttribute(e,o.name));for(Object.keys(e.e_base).length||delete e.e_base,l=e.childNodes,a=0;a<l.length;a++)(o=l[a])instanceof Comment||o instanceof HTMLBRElement||o instanceof HTMLScriptElement||this.dealias(o,t,s)}}EventeAttribute.attributes["e-base"]=EventeAttributeBase;class EventeAttributeFor extends EventeAttribute{constructor(e,t,s){let r=e.attributes[t],i=r.value.match(/^{{([a-z0-9_]+)\s+in\s+(.*?)(\s+key\s+([a-z0-9_]+))?}}$/im);r.value="{{"+i[2]+"}}",super(e,t,s),this.alias=i[1],this.key=i[4],this.template=e.children[0],e.innerHTML=""}apply(){let e,t,s,r=[],i=this.property(this.model),n=this.eval(this.model);for(e in n)t=void 0!==this.key?n[e][this.key]:e,(s=this.node.querySelector('[e-key="'+t+'"]'))&&s.e_index!==e&&(s.remove(),s=null),s||((s=this.template.cloneNode(!0)).e_index=e,s.setAttribute("e-key",t),this.dealias(s,"\\$index",e),this.dealias(s,"\\$key",t),this.dealias(s,this.alias,i+"."+e),this.node.appendChild(s),EventeParser.parseNode(s,this.model));for(e=0;e<this.node.childNodes.length;e++)s=this.node.childNodes[e],void 0!==n&&void 0!==n[s.e_index]||r.push(s);for(e in r)this.model.unlink(r[e]),r[e].remove()}dealias(e,t,s){let r,i=new RegExp("(^|[^a-z])"+t.replace(/\./g,"\\.")+"([^a-z]|$)","gim"),n=new RegExp("{{");if(e instanceof Text){if(!(r=e.nodeValue).match(n))return;return void((r=this.preparse(r)).match(i)&&(e.nodeValue=r.replace(i,"$1"+s+"$2")))}let a,o,l=e.attributes;for(a=0;a<l.length;a++)o=l[a],(r=EventeAttribute.attributes[o.name]?EventeAttribute.attributes[o.name].check(e,o.name):o.value).match(n)&&(r=this.preparse(r)).match(i)&&(o.value=r.replace(i,"$1"+s+"$2"));let u,h=e.childNodes;for(a=0;a<h.length;a++)(u=h[a])instanceof Comment||u instanceof HTMLBRElement||u instanceof HTMLScriptElement||this.dealias(u,t,s)}}EventeAttributeFor.priority=99,EventeAttribute.attributes["e-for"]=EventeAttributeFor;class EventeAttributeHideShow extends EventeAttribute{constructor(e,t,s){super(e,t,s),this.type=t}apply(){"e-hide"==this.type&&!this.eval(this.model)||"e-show"==this.type&&this.eval(this.model)?this.node.style.display="":this.node.style.display="none"}}EventeAttribute.attributes["e-hide"]=EventeAttributeHideShow,EventeAttribute.attributes["e-show"]=EventeAttributeHideShow;class EventeAttributeModel extends EventeAttribute{constructor(e,t,s){super(e,t,s)}apply(){let e=this.eval(this.model);e=void 0!==e?"object"!=typeof e?e.toString():JSON.stringify(e):"",this.node instanceof HTMLInputElement||this.node instanceof HTMLButtonElement||this.node instanceof HTMLTextAreaElement||this.node instanceof HTMLSelectElement?this.node.value!=e&&(this.node.value=e):this.node.textContent!=e&&(this.node.textContent=e)}get(){let e=this.eval(this.model);return void 0!==e?e:""}set(e){this.model.set(this.property(this.model),e)}}EventeAttribute.attributes["e-model"]=EventeAttributeModel;class EventeModel{constructor(e,t){this.shadow={...t,strings:EventeStrings.strings},this.listeners={get:{},set:{},delete:{}},this.links={},this.proxy=null,e.addEventListener("input",EventeModel.eventHander,!0)}get data(){return this.proxy}set data(e){e.strings=EventeStrings.strings,this.shadow=e}get(e){return this.proxy.getField(e)}set(e,t){this.proxy.setField(e,t)}addListener(e,t,s){this.listeners[e]&&(this.listeners[e][t]||(this.listeners[e][t]=new Set),this.listeners[e][t].add(s))}removeListener(e,t,s){this.listeners[e]&&this.listeners[e][t]&&(this.listeners[e][t].delete(s),this.listeners[e][t].size||delete this.listeners[e][t])}getNodes(e){let t,s,r=new Set;for(t in this.links)if(t.startsWith(e+"."))for(s of this.links[t])r.add(s);for(;""!=e;){if(void 0!==this.links[e])for(s of this.links[e])r.add(s);e=e.split(".").slice(0,-1).join(".")}return r}applyAttributes(e){if(void 0===e.e_attributes)return;if(e instanceof Text){let t=e.e_attributes[""].eval(this);return t=void 0!==t?t.toString():"",void(e.nodeValue!==t&&(e.nodeValue=t))}let t;for(t in e.e_attributes)this.applyAttribute(e,t)}applyAttribute(e,t){void 0!==e.e_attributes&&void 0!==e.e_attributes[t]&&e.e_attributes[t].apply()}updateLinks(e){var t,s,r,i=new Set;for(t in e.e_attributes)for(s in r=e.e_attributes[t].getLinks())i.add(r[s]);for(t of r=e.e_links||new Set)i.has(t)||this.unlink(e,t);for(t of i)r.has(t)||this.link(e,t)}link(e,t){void 0===this.links[t]&&(this.links[t]=new Set),this.links[t].add(e),void 0===e.e_links&&(e.e_links=new Set),e.e_links.add(t)}unlink(e,t){if(void 0===t){if(void 0!==e.e_links)for(let t of e.e_links)this.unlink(e,t);let t,s=e.childNodes;for(t=0;t<s.length;t++)this.unlink(s[t])}else void 0!==this.links[t]&&(this.links[t].delete(e),0===this.links[t].size&&delete this.links[t]),void 0!==e.e_links&&(e.e_links.delete(t),0===e.e_links.size&&delete e.e_links)}static eventHander(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLButtonElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement))return;if(void 0===e.target.e_attributes||void 0===e.target.e_attributes["e-model"])return;let t=e.target.e_attributes["e-model"],s=t.get(),r=e.target.value;s!==r&&t.set(r)}}class EventeModelProxyHandler{constructor(e){this.data=e}deleteProperty(e,t){let s=this.data.shadow.getField(e.$),r=this.data.listeners.delete[e.$];if(r)for(let i of r)i(s,e.$,t);delete s[t];let i,n=(e.$?e.$+".":"")+t,a=this.data.getNodes(n);for(i of a)this.data.applyAttributes(i);return!0}get(e,t){if("constructor"===t)return{name:"Proxy"};let s=this.data.shadow.getField(e.$);switch(t){case"keys":return Object.keys(s);case"length":return Object.keys(s).length;case"toJSON":return function(){return s};case"clone":return function(){return{...s}}}let r=this.data.listeners.get[e.$];if(r)for(let i of r)i(s,e.$,t);if(void 0!==s[t]&&null!==s[t])switch(typeof s[t]){case"object":return new Proxy({$:(e.$?e.$+".":"")+t},this);default:return s[t]}}getPrototypeOf(e){return this.data.shadow.getField(e.$)}has(e,t){let s=this.data.shadow.getField(e.$);return Reflect.has(s,t)}isExtensible(e){let t=this.data.shadow.getField(e.$);return Reflect.isExtensible(t)}ownKeys(e){let t=this.data.shadow.getField(e.$);return Object.keys(t)}set(e,t,s){let r=this.data.shadow.getField(e.$),i=this.data.listeners.set[e.$];if("Proxy"===s.constructor.name&&(s=s.clone()),i)for(let n of i)n(r,e.$,t,s);if(r[t]!==s){r[t]=s;let i,n=(e.$?e.$+".":"")+t,a=this.data.getNodes(n);for(i of a)this.data.applyAttributes(i)}return!0}}class EventeParser{static parseNode(e,t){if(EventeParser.parseAttributes(e,t),e instanceof Text)return void t.applyAttributes(e);let s,r,i=e.childNodes;for(s=0;s<i.length;s++)(r=i[s])instanceof Comment||r instanceof HTMLBRElement||r instanceof HTMLScriptElement||EventeParser.parseNode(r,t);t.applyAttributes(e)}static parseAttributes(e,t){if(e instanceof Text)return void(-1!==e.nodeValue.indexOf("{{")?(e.e_attributes={"":new EventeExpression(e.nodeValue)},t.updateLinks(e)):void 0===e.e_attributes&&delete e.e_attributes);let s,r,i=EventeAttribute.getAttributes();for(s in i)EventeParser.parseAttribute(e,i[s].name,t);for(s=0;s<e.attributes.length;s++)r=e.attributes[s],void 0===EventeAttribute.attributes[r.name]&&EventeParser.parseAttribute(e,r.name,t);e.e_attributes&&t.updateLinks(e)}static parseAttribute(e,t,s){let r,i=e.attributes[t];if(i){if(e.e_attributes&&e.e_attributes[t]){if("{{"+e.e_attributes[t].expression+"}}"===i.value)return}if(EventeAttribute.attributes[t])r=EventeAttribute.attributes[t].check(e,t),i.value!==r&&(i.value=r),i=new EventeAttribute.attributes[t](e,t,s);else{if(-1===i.value.indexOf("{{"))return;i=new EventeAttribute(e,t,s)}void 0===e.e_attributes&&(e.e_attributes={}),e.e_attributes[t]=i}else e.e_attributes&&delete e.e_attributes[t]}}const EventePipes={empty:function(e){return void 0===e[0]||null===e[0]?e[1]?e[1]:"":e[2]?e[2]:""},if:function(e){var t=parseFloat(e[0]);return isNaN(t)||(e[0]=t),e[0]?e[1]?e[1]:"":e[2]?e[2]:""},max:function(e){let t=EventePipes.reverse(e);return t?t[0]:""},min:function(e){let t=EventePipes.sort(e);return t?t[0]:""},reverse:function(e){let t=EventePipes.sort(e);return t?t.reverse():""},sort:function(e){if(void 0===e[0]||null===e[0])return"";let t=e[0]instanceof Array?e[0].slice():e[0].keys;return void 0===t?"":t.sort()}};class EventeResource{constructor(e,t){this.url=e,this.type=t||"json"}get(e){return this.method("get",e)}post(e){return this.method("post",e)}put(e){return this.method("put",e)}delete(e){return this.method("delete",e)}method(e,t,s){"Proxy"===(t=t||{}).constructor.name&&(t=t.clone());let r=this.url.replace(/\/:([-_0-9a-z]+)(\/|$)/gi,(e,s,r)=>{let i=t[s]||"";return delete t[s],"/"+i+r}),i={mode:"cors",method:e,headers:new Headers(s||EventeResource.headers)};switch(e){case"get":case"delete":let s,n=[];for(s in t)n.push(s+"="+encodeURIComponent(t[s]));r+="?"+n.join("&");break;case"post":case"put":i.body=JSON.stringify(t)}return-1!==["post","put"].indexOf(e)&&(i.body=JSON.stringify(t)),fetch(r,i).then(e=>{switch(this.ok=e.ok,this.status=e.status,this.type){case"json":return e.json();case"form":return e.formData();case"text":return e.text()}}).then(e=>{if(!this.ok){let t=new Error;throw t.status=this.status,t.data=e,t}return e})}}EventeResource.headers={};class EventeRouter{constructor(e){EventeRouter.routers.push(this),this.routes={},this.node=e,this.node.addEventListener("click",EventeRouter.clickHander,!0)}add(e,t,s){e=this.normalize(e),this.routes[e]={parts:e.split("/"),callback:t,params:s||{}}}remove(e){e=this.normalize(e),delete this.routes[e]}trigger(e,t){void 0===e&&(e=location.pathname),this.handle(e,t)}handle(e,t){if(e=this.normalize(e),void 0!==this.routes[e])return t&&window.history.pushState({},"","/"+e),this.routes[e].callback(this.routes[e].params),!0;let s,r,i,n,a=Object.assign({},this.routes),o={},l=e.split("/");for(s in l)for(r in n=l[s],a)a[r].parts.length===l.length?(i=a[r].parts[s])!==n&&(void 0!==i&&":"===i[0]?o[i.substr(1)]=n:delete a[r]):delete a[r];if(Object.keys(a).length)for(r in t&&window.history.pushState({},"","/"+e),a)a[r].callback(Object.assign(a[r].params,o));return Object.keys(a).length>0}normalize(e){return e.startsWith(location.origin)&&(e=e.substr(location.origin.length)),e.startsWith("//"+location.host)&&(e=e.substr(("//"+location.host).length)),e.startsWith("/")&&(e=e.substr(1)),e.endsWith("/")&&(e=e.substr(0,e.length-1)),e}static getRouter(e){for(let t in EventeRouter.routers){let s=EventeRouter.routers[t];if(s.node===e||s.node.contains(e))return s}}static clickHander(e){let t=e.target;for(;!(t instanceof HTMLAnchorElement);)if((t=t.parentNode)instanceof HTMLDocument)return;let s=EventeRouter.getRouter(t);if(!s)return;let r=t.getAttribute("href");r&&s.handle(r,!0)&&e.preventDefault()}static popstateHandler(){for(let e in EventeRouter.routers)EventeRouter.routers[e].handle(location.href)}}EventeRouter.routers=[],window.addEventListener("popstate",EventeRouter.popstateHandler);class EventeSelector extends Array{constructor(e,t){if(super(),void 0!==e)switch(e.constructor.name){case"String":e.length>0&&this.push(...document.querySelectorAll(e));break;case"Array":this.push(...e);break;default:e instanceof HTMLElement&&this.push(e)}Object.defineProperty(this,"selector",{enumerable:!1,writable:!0}),this.selector=t}addClass(e){return this.classes("add",e)}attr(e,t){return this.forEach({action:"attr",name:e,value:t})}closest(e){return this.forEach({action:"closest",selector:e})}contains(e){return this.forEach({action:"contains",node:e})}end(){return this.selector}find(e){return this.forEach({action:"find",selector:e})}get(e){return this[e]}hasClass(e,t){return this.forEach({action:"hasClass",class:e,all:t})}html(e){return this.forEach({action:"html",value:e})}is(e,t){return this.forEach({action:"is",selector:e,all:t})}parent(){return this.forEach({action:"parent"})}removeClass(e){return this.classes("remove",e)}text(e){return this.forEach({action:"text",value:e})}toggleClass(e,t){return this.classes("toggle",e)}val(e){return this.forEach({action:"val",value:e})}classes(e,t,s){"string"==typeof t&&(t=t.split(" "));for(let r in this)for(let i in t)"toggle"===e?this[r].classList.toggle(t[i],s):this[r].classList[e](t[i]);return this}forEach(e){if(void 0!==e.value){for(let t in this)switch(e.action){case"attr":this[t].setAttribute(e.name,e.value);break;case"html":this[t].innerHTML=e.value;break;case"text":this[t].textContent=e.value;break;case"val":this[t]instanceof HTMLInputElement&&(this[t].value=e.value)}return this}if(0===this.length)return;let t,s,r=[];for(t in this)switch(e.action){case"attr":s=this[t].getAttribute(e.name),r.push(null!==s?s:void 0);break;case"closest":for(s=this[t].parentNode;!s.matches(e.selector);)if((s=s.parentNode)instanceof HTMLDocument){s=null;break}r.push(s);break;case"contains":if(this[t]===e.node||this[t].contains(e.node))return!0;break;case"find":r.push(...this[t].querySelectorAll(e.selector));break;case"html":r.push(this[t].innerHTML);break;case"hasClass":if(s=this[t].classList.contains(e.class),!0!==e.all){if(s)return!0}else if(!s)return!1;break;case"is":if(s=this[t].matches(e.selector),!0!==e.all){if(s)return!0}else if(!s)return!1;break;case"parent":r.push(this[t].parentNode);break;case"text":r.push(this[t].textContent);break;case"val":r.push(this[t]instanceof HTMLInputElement?this[t].value:void 0)}switch(e.action){case"contains":return!1;case"closest":case"find":case"parent":return new EventeSelector(r,this);case"hasClass":case"is":return!0===e.all;default:return r.length>1?r:r[0]}}}if(void 0===$)var $=function(e){return new EventeSelector(e)};class EventeStrings{static getIndex(e){var t=EventeStrings.strings.indexOf(e);return-1===t&&(EventeStrings.strings.push(e),t=EventeStrings.strings.indexOf(e)),t}}EventeStrings.strings=[];