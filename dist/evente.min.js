Object.defineProperty(Object.prototype,"getField",{value:function(e){if(""===e)return this;let t,s=this,r=e.toString().split("."),i=r.length;for(t=0;t<i;t++){if(void 0===s[r[t]])return;s=s[r[t]]}return s}}),Object.defineProperty(Object.prototype,"setField",{value:function(e,t){let s,r=this,i=e.toString().split("."),n=i.length;for(s=0;s<n-1;s++)void 0===r[i[s]]&&(r[i[s]]={}),r=r[i[s]];r[i[n-1]]=t}});var evente=function(){};if(evente.attributes={},evente.models=[],evente.routers=[],evente.strings=[],evente.pipes={empty:function(e){return void 0===e[0]||null===e[0]?e[1]?e[1]:"":e[2]?e[2]:""},if:function(e){var t=parseFloat(e[0]);return isNaN(t)||(e[0]=t),e[0]?e[1]?e[1]:"":e[2]?e[2]:""},sort:function(e){if(void 0===e[0]||null===e[0])return"";let t=e[0]instanceof Array?e[0].slice():e[0].keys;return void 0===t?"":t.sort()},reverse:function(e){let t=evente.pipes.sort(e);return t?t.reverse():""},min:function(e){let t=evente.pipes.sort(e);return t?t[0]:""},max:function(e){let t=evente.pipes.reverse(e);return t?t[0]:""}},evente._attributes=[],evente.__proto__.getAttributes=(()=>{if(evente._attributes.length!==Object.keys(evente.attributes).length){let e=[];for(let t in evente.attributes)e.push({name:t,priority:evente.attributes[t].priority});e.sort((e,t)=>e.priority>t.priority?-1:e.priority<t.priority?1:0),evente._attributes=e}return evente._attributes}),evente.__proto__.getModel=function(e){for(var t in this.models){let s=this.models[t];if(s.element===e||s.element.contains(e))return s}},evente.__proto__.getRouter=function(e){for(var t in this.routers){let s=this.routers[t];if(s.element===e||s.element.contains(e))return s}},evente.__proto__.getStringIndex=function(e){var t=evente.strings.indexOf(e);return-1===t&&(evente.strings.push(e),t=evente.strings.indexOf(e)),t},evente.__proto__.route=function(){for(let e in evente.routers)evente.routers[e].handle(location.href)},void 0===$)var $=function(e){return new evente.Selector(e)};"undefined"!=typeof module?module.exports=evente:window.addEventListener("popstate",evente.route),evente.Expression=class{constructor(e){this.expression=e,this.tree=this.parse(e.trim())}eval(e,t,s){let r,i,n;switch(void 0===t&&(t=this.tree),typeof t){case"string":r=s?t:e.get(t);break;case"number":r=t;break;default:switch(t.type){case"+":case"-":case"*":case"/":for(let s in t.params)void 0!==(i=this.eval(e,t.params[s]))&&null!==i&&(void 0!==r&&"number"!=typeof r||"number"==typeof i||(n=parseFloat(i),isNaN(n)||(i=n)),r=void 0===r?i:evente.Expression.operations[t.type].func(r,i));break;case"&":case"?":case"=":case"#":r=[];for(let s in t.params)i=this.eval(e,t.params[s]),n=parseFloat(i),isNaN(n)||(i=n),r.push(i),r.length>1&&(r=[evente.Expression.operations[t.type].func(r[0],r[1])]);r=r[0];break;case"!":r=!this.eval(e,t.params[0]);break;case"value":r=this[s?"property":"eval"](e,t.params[0]);break;case".":r=s?void 0!==(r=this.property(e,t.params[0]))?r+"."+t.params[1]:void 0:void 0!==(r=this.eval(e,t.params[0]))?r.getField(t.params[1]):void 0;break;case"[]":r=t.params[0]+"."+this.eval(e,t.params[1]),s||(r=e.get(r));break;case"|":let a=[];for(let s in t.params)a.push(this.eval(e,t.params[s]));r=evente.pipes[t.name](a)}}return r}property(e,t){return this.eval(e,t,!0)}getLinks(e){void 0===e&&(e=this.tree);let t,s=[];switch(typeof e){case"number":break;case"string":e.endsWith(".length")&&(e=e.substr(0,e.length-7)),e.endsWith(".keys")&&(e=e.substr(0,e.length-5)),s.push(e);break;default:switch(e.type){case".":s.push(...this.getLinks(e.params[0]));break;default:for(t in e.params)s.push(...this.getLinks(e.params[t]))}}return s}parse(e){return e=this.parse_unclosed(e),e=this.parse_strings(e),e=this.parse_operations(e),this.expression=e,e=this.parse_tokens(e),this.parse_tree(e)}parse_unclosed(e){let t,s,r=0,i="",n=/{{.*?}}/gm,a=new RegExp(["=","!=","!","&&","\\|\\|","-","\\+","\\*","\\/","\\[","]","\\(","\\)","\\|",":"].join("|"));for(s=n.exec(e);s;)s.index!==r&&(t=e.substr(r,s.index-r),i+="strings."+evente.getStringIndex(t)+" + ",r=s.index),t=s[0].substr(2,s[0].length-4).trim(),a.test(t)&&(t="("+t+")"),i+=t+" + ",r+=s[0].length,s=n.exec(e);return(t=e.substr(r)).length&&(i+="strings."+evente.getStringIndex(t)),i.endsWith(" + ")&&(i=i.substr(0,i.length-3)),i.startsWith("(")&&i.endsWith(")")&&!i.match(/^\(.*(\(|\)).*\)$/)&&(i=i.substr(1,i.length-2)),i}parse_strings(e){let t="",s=0,r={start:0},i=/['"]/gm,n=i.exec(e);for(;n;)r.start?r.delim===n[0]&&(r.string=e.substr(r.start,n.index-r.start),r.index=evente.getStringIndex(r.string),t+="strings."+r.index,r.start=0):(r.start=n.index+1,r.delim=n[0],t+=e.substr(s,n.index-s)),s=n.index+1,n=i.exec(e);return s<e.length&&(t+=e.substr(s)),t}parse_operations(e){return e=(e=(e=(e=e.replace(/&&/g,"&")).replace(/\|\|/g,"?")).replace(/==/g,"=")).replace(/!=/g,"#")}parse_tokens(e){let t,s,r=0,i=/[!&?=#\-+*/[\]()|:]/gm,n=[];for(r=0,i.lastIndex=0,s=i.exec(e);s;)s.index!==r&&((t=e.substr(r,s.index-r).trim()).length&&n.push(e.substr(r,s.index-r).trim()),r=s.index),n.push(s[0].trim()),r+=s[0].length,s=i.exec(e);return(t=e.substr(r).trim()).length&&n.push(t),n}parse_tree(e,t){let s,r;for(void 0===t&&(t={}),void 0===t.params&&(t.params=[]);e.length;)switch(s=e.shift()){case"-":case"+":case"*":case"/":case"&":case"?":case"=":case"#":case"!":if(void 0===t.type){t.type=s;continue}if(t.type===s)break;evente.Expression.operations[t.type].priority>=evente.Expression.operations[s].priority?t={type:s,params:[t]}:t.params.push(this.parse_tree(e,{type:s,params:[t.params.pop()]}));break;case"(":t.params.push(this.parse_tree(e));break;case")":return void 0===t.type&&(t.type="value"),t;case"[":void 0===t.type?(t.type="[]",t.params.push(this.parse_tree(e))):t.params.push({type:"[]",params:[t.params.pop(),this.parse_tree(e)]});break;case"]":return void 0===t.type&&(t.type="value"),t;case"|":for(void 0!==t.type&&(t={params:[t]}),t.type="|",t.name=e.shift(),s=e.shift();":"===s;)t.params.push(this.parse_tree(e)),s=e.shift();void 0!==s&&e.unshift(s);break;case":":return e.unshift(s),t.params.length?(void 0===t.type&&(t.type="value"),t):"";default:"."==s[0]?(s=s.substr(1),void 0===t.type?(t.type=".",t.params.push(s)):evente.Expression.operations[t.type].priority>=evente.Expression.operations["."].priority?t={type:".",params:[t,s]}:t.params.push({type:".",params:[t.params.pop(),s]})):(r=parseFloat(s),isNaN(r)||(s=r),t.params.push(s))}return void 0===t.type&&(t.type="value"),t}},evente.Expression.operations={"+":{priority:0,func:function(e,t){return e+t}},"-":{priority:0,func:function(e,t){return e-t}},"*":{priority:1,func:function(e,t){return e*t}},"/":{priority:1,func:function(e,t){return e/t}},"&":{priority:2,func:function(e,t){return Boolean(e&&t)}},"?":{priority:2,func:function(e,t){return Boolean(e||t)}},"=":{priority:3,func:function(e,t){return Boolean(e==t)}},"#":{priority:3,func:function(e,t){return Boolean(e!=t)}},"!":{priority:4},".":{priority:5},"[]":{priority:6},"|":{priority:7}},evente.Attribute=class extends evente.Expression{constructor(e,t,s){super(e.attributes[t].value),this.name=t,this.node=e,this.model=s}apply(){let e=this.eval(this.model);e=void 0!==e?e.toString():"",this.node.getAttribute(this.name)!==e&&this.node.setAttribute(this.name,e)}},evente.Attribute.priority=0,evente.Attribute.check=function(e,t){let s=e.getAttribute(t).trim();return s.startsWith("{{")?s:"{{"+s+"}}"},evente.App=class{constructor(e,t,s){s={clean:!1,router:!0,run:!1,...s},this.model=new evente.Model(e,t,{init:!1}),s.clean&&this.clean(),s.router&&(this.router=new evente.Router(this.model.element)),s.run&&this.run()}get data(){return this.model.data}set data(e){this.model.data=e}route(e,t,s){this.router&&(t?this.router.add(e,t,s):this.router.remove(e))}run(){this.model.init(),this.router&&this.router.trigger()}clean(){let e,t=[],s=document.createTreeWalker(document,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,null,!1);for(;e=s.nextNode();)switch(e.nodeType){case Node.TEXT_NODE:e.nodeValue.match(/[^\s\n]/m)||t.push(e);break;case Node.COMMENT_NODE:t.push(e)}for(e in t)t[e].remove()}},evente.AttributeBase=class extends evente.Attribute{constructor(e,t,s){let r=e.attributes[t],i=r.value.match(/^{{(.*?)(\s+as\s+([a-z0-9_]+))}}$/im);r.value="{{"+i[1]+"}}",super(e,t,s),this.alias=i[3],this.apply()}apply(){let e,t,s=this.node.childNodes,r=this.property(this.model);for(e=0;e<s.length;e++)t=s[e],this.dealias(t,this.alias,r)}dealias(e,t,s){let r,i=new RegExp("(^|[^a-z])"+t.replace(/\./g,"\\.")+"([^a-z]|$)","gim");if(e instanceof Text)return e.e_base?r=e.e_base.replace(i,"$1"+s+"$2"):e.nodeValue.match(i)?(e.e_base=e.nodeValue,r=e.nodeValue.replace(i,"$1"+s+"$2")):r=e.nodeValue,void(e.nodeValue!==r&&(e.nodeValue=r,this.model.parseAttributes(e),this.model.applyAttributes(e)));e.e_base=e.e_base||{};let n,a,o=e.attributes;for(n=0;n<o.length;n++)a=o[n],r=evente.attributes[a.name]?evente.attributes[a.name].check(e,a.name):a.value,e.e_base[a.name]?r=e.e_base[a.name].replace(i,"$1"+s+"$2"):r.match(i)&&(e.e_base[a.name]=r,r=r.replace(i,"$1"+s+"$2")),a.value!==r&&(a.value=r,this.model.parseAttribute(e,a.name),this.model.applyAttribute(e,a.name));for(Object.keys(e.e_base).length||delete e.e_base,o=e.childNodes,n=0;n<o.length;n++)(a=o[n])instanceof Comment||a instanceof HTMLBRElement||a instanceof HTMLScriptElement||this.dealias(a,t,s)}},evente.attributes["e-base"]=evente.AttributeBase,evente.AttributeFor=class extends evente.Attribute{constructor(e,t,s){let r=e.attributes[t],i=r.value.match(/^{{([a-z0-9_]+)\s+in\s+(.*?)(\s+key\s+([a-z0-9_]+))?}}$/im);r.value="{{"+i[2]+"}}",super(e,t,s),this.alias=i[1],this.key=i[4],this.template=e.children[0],e.innerHTML=""}apply(){let e,t,s,r=[],i=this.property(this.model),n=this.eval(this.model);for(e in n)t=void 0!==this.key?n[e][this.key]:e,(s=this.node.querySelector('[e-key="'+t+'"]'))&&s.e_index!==e&&(s.remove(),s=null),s||((s=this.template.cloneNode(!0)).e_index=e,s.setAttribute("e-key",t),this.dealias(s,"\\$index",e),this.dealias(s,"\\$key",t),this.dealias(s,this.alias,i+"."+e),this.node.appendChild(s),this.model.parseNode(s));for(e=0;e<this.node.childNodes.length;e++)s=this.node.childNodes[e],void 0!==n&&void 0!==n[s.e_index]||r.push(s);for(e in r)this.model.unlink(r[e]),r[e].remove()}dealias(e,t,s){let r=new RegExp("(^|[^a-z])"+t.replace(/\./g,"\\.")+"([^a-z]|$)","gim"),i=new RegExp("{{");if(e instanceof Text)return void(e.nodeValue.match(r)&&(e.nodeValue=e.nodeValue.replace(r,"$1"+s+"$2")));let n,a,o=e.attributes;for(n=0;n<o.length;n++)a=o[n],(evente.attributes[a.name]||a.value.match(i))&&a.value.match(r)&&(a.value=a.value.replace(r,"$1"+s+"$2"));for(o=e.childNodes,n=0;n<o.length;n++)(a=o[n])instanceof Comment||a instanceof HTMLBRElement||a instanceof HTMLScriptElement||this.dealias(a,t,s)}},evente.AttributeFor.priority=99,evente.attributes["e-for"]=evente.AttributeFor,evente.AttributeHideShow=class extends evente.Attribute{constructor(e,t,s){super(e,t,s),this.type=t}apply(){"e-hide"==this.type&&!this.eval(this.model)||"e-show"==this.type&&this.eval(this.model)?this.node.style.display="":this.node.style.display="none"}},evente.attributes["e-hide"]=evente.AttributeHideShow,evente.attributes["e-show"]=evente.AttributeHideShow,evente.AttributeModel=class extends evente.Attribute{constructor(e,t,s){super(e,t,s)}apply(){let e=this.eval(this.model);e=void 0!==e?"object"!=typeof e?e.toString():JSON.stringify(e):"",this.node instanceof HTMLInputElement||this.node instanceof HTMLButtonElement||this.node instanceof HTMLTextAreaElement||this.node instanceof HTMLSelectElement?this.node.value!=e&&(this.node.value=e):this.node.textContent!=e&&(this.node.textContent=e)}get(){let e=this.eval(this.model);return void 0!==e?e:""}set(e){this.model.set(this.property(this.model),e)}},evente.attributes["e-model"]=evente.AttributeModel,evente.Model=class{constructor(e,t,s){s={init:!0,...s},evente.models.push(this),this.proxyHandler=new evente.ModelProxyHandler(this),this.shadow={...t,strings:evente.strings},this.proxy=new Proxy({$:""},this.proxyHandler),this.listeners={get:{},set:{},delete:{}},this.links={},this.element=document.querySelector(e),s.init&&this.init()}get data(){return this.proxy}set data(e){e.strings=evente.strings,this.shadow=e,this.parseNode(this.element)}get(e){return this.data.getField(e)}set(e,t){this.data.setField(e,t)}init(){this.element.addEventListener("input",evente.Model.eventHander,!0),this.parseNode(this.element)}addListener(e,t,s){this.listeners[e]&&(this.listeners[e][t]||(this.listeners[e][t]=new Set),this.listeners[e][t].add(s))}removeListener(e,t,s){this.listeners[e]&&this.listeners[e][t]&&(this.listeners[e][t].delete(s),this.listeners[e][t].size||delete this.listeners[e][t])}applyAttributes(e){if(void 0===e.e_attributes)return;if(e instanceof Text){let t=e.e_attributes[""].eval(this);return t=void 0!==t?t.toString():"",void(e.nodeValue!==t&&(e.nodeValue=t))}let t;for(t in e.e_attributes)this.applyAttribute(e,t)}applyAttribute(e,t){void 0!==e.e_attributes&&void 0!==e.e_attributes[t]&&e.e_attributes[t].apply()}getNodes(e){let t,s,r=new Set;for(t in this.links)if(t.startsWith(e+"."))for(s of this.links[t])r.add(s);for(;""!=e;){if(void 0!==this.links[e])for(s of this.links[e])r.add(s);e=e.split(".").slice(0,-1).join(".")}return r}parseNode(e){if(this.parseAttributes(e),e instanceof Text)return void this.applyAttributes(e);let t,s,r=e.childNodes;for(t=0;t<r.length;t++)(s=r[t])instanceof Comment||s instanceof HTMLBRElement||s instanceof HTMLScriptElement||this.parseNode(s);this.applyAttributes(e)}parseAttributes(e){if(e instanceof Text)return void(-1!==e.nodeValue.indexOf("{{")?(e.e_attributes={"":new evente.Expression(e.nodeValue)},this.updateLinks(e)):void 0===e.e_attributes&&delete e.e_attributes);let t,s,r=evente.getAttributes();for(t in r)this.parseAttribute(e,r[t].name);for(t=0;t<e.attributes.length;t++)s=e.attributes[t],void 0===evente.attributes[s.name]&&this.parseAttribute(e,s.name);e.e_attributes&&this.updateLinks(e)}parseAttribute(e,t){let s,r=e.attributes[t];if(r){if(e.e_attributes&&e.e_attributes[t]){if("{{"+e.e_attributes[t].expression+"}}"===r.value)return}if(evente.attributes[t])s=evente.attributes[t].check(e,t),r.value!==s&&(r.value=s),r=new evente.attributes[t](e,t,this);else{if(-1===r.value.indexOf("{{"))return;void 0===evente.attributes[t]&&(r=new evente.Attribute(e,t,this))}void 0===e.e_attributes&&(e.e_attributes={}),e.e_attributes[t]=r}else e.e_attributes&&delete e.e_attributes[t]}updateLinks(e){var t,s,r,i=new Set;for(t in e.e_attributes)for(s in r=e.e_attributes[t].getLinks())i.add(r[s]);for(t of r=e.e_links||new Set)i.has(t)||this.unlink(e,t);for(t of i)r.has(t)||this.link(e,t)}link(e,t){void 0===this.links[t]&&(this.links[t]=new Set),this.links[t].add(e),void 0===e.e_links&&(e.e_links=new Set),e.e_links.add(t)}unlink(e,t){if(void 0===t){if(void 0!==e.e_links)for(let t of e.e_links)this.unlink(e,t);let t,s=e.childNodes;for(t=0;t<s.length;t++)this.unlink(s[t])}else void 0!==this.links[t]&&(this.links[t].delete(e),0===this.links[t].size&&delete this.links[t]),void 0!==e.e_links&&(e.e_links.delete(t),0===e.e_links.size&&delete e.e_links)}},evente.Model.eventHander=function(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLButtonElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement))return;if(void 0===e.target.e_attributes||void 0===e.target.e_attributes["e-model"])return;let t=e.target.e_attributes["e-model"],s=t.get(),r=e.target.value;s!==r&&t.set(r)},evente.ModelProxyHandler=class{constructor(e){this.model=e}deleteProperty(e,t){let s=this.model.shadow.getField(e.$),r=this.model.listeners.delete[e.$];if(r)for(let i of r)i(s,e.$,t);delete s[t];let i,n=(e.$?e.$+".":"")+t,a=this.model.getNodes(n);for(i of a)this.model.applyAttributes(i,n);return!0}get(e,t){if("constructor"===t)return{name:"Proxy"};let s=this.model.shadow.getField(e.$);switch(t){case"keys":return Object.keys(s);case"length":return Object.keys(s).length;case"toJSON":return function(){return s};case"clone":return function(){return{...s}}}let r=this.model.listeners.get[e.$];if(r)for(let i of r)i(s,e.$,t);if(void 0!==s[t]&&null!==s[t])switch(typeof s[t]){case"object":return new Proxy({$:(e.$?e.$+".":"")+t},this.model.proxyHandler);default:return s[t]}}getPrototypeOf(e){return this.model.shadow.getField(e.$)}has(e,t){let s=this.model.shadow.getField(e.$);return Reflect.has(s,t)}isExtensible(e){let t=this.model.shadow.getField(e.$);return Reflect.isExtensible(t)}ownKeys(e){let t=this.model.shadow.getField(e.$);return Object.keys(t)}set(e,t,s){let r=this.model.shadow.getField(e.$),i=this.model.listeners.set[e.$];if("Proxy"===s.constructor.name&&(s=s.clone()),i)for(let n of i)n(r,e.$,t,s);if(r[t]!==s){r[t]=s;let i,n=(e.$?e.$+".":"")+t,a=this.model.getNodes(n);for(i of a)this.model.applyAttributes(i,n)}return!0}},evente.Resource=class{constructor(e,t){this.url=e,this.type=t||"json"}get(e){return this.method("get",e)}post(e){return this.method("post",e)}put(e){return this.method("put",e)}delete(e){return this.method("delete",e)}method(e,t,s){"Proxy"===(t=t||{}).constructor.name&&(t=t.clone());let r=this.url.replace(/\/:([-_0-9a-z]+)(\/|$)/gi,(e,s,r)=>{let i=t[s]||"";return delete t[s],"/"+i+r}),i={mode:"cors",method:e,headers:new Headers(s||evente.Resource.headers)};switch(e){case"get":case"delete":let s,n=[];for(s in t)n.push(s+"="+encodeURIComponent(t[s]));r+="?"+n.join("&");break;case"post":case"put":i.body=JSON.stringify(t)}return-1!==["post","put"].indexOf(e)&&(i.body=JSON.stringify(t)),fetch(r,i).then(e=>{switch(this.ok=e.ok,this.status=e.status,this.type){case"json":return e.json();case"form":return e.formData();default:return e.text()}}).then(e=>{if(!this.ok){let t=new Error;throw t.status=this.status,t.data=e,t}return e})}},evente.Resource.headers={},evente.Router=class{constructor(e){evente.routers.push(this),this.routes={},this.element=e,this.element.addEventListener("click",evente.Router.eventHander,!0)}add(e,t,s){e=this.normalize(e),this.routes[e]={parts:e.split("/"),callback:t,params:s||{}}}remove(e){e=this.normalize(e),delete this.routes[e]}trigger(e,t){void 0===e&&(e=location.pathname),this.handle(e,t)}handle(e,t){if(e=this.normalize(e),void 0!==this.routes[e])return t&&window.history.pushState({},"","/"+e),this.routes[e].callback(this.routes[e].params),!0;let s,r,i,n,a=Object.assign({},this.routes),o={},l=e.split("/");for(s in l)for(r in n=l[s],a)a[r].parts.length===l.length?(i=a[r].parts[s])!==n&&(void 0!==i&&":"===i[0]?o[i.substr(1)]=n:delete a[r]):delete a[r];if(Object.keys(a).length)for(r in t&&window.history.pushState({},"","/"+e),a)a[r].callback(Object.assign(a[r].params,o));return Object.keys(a).length>0}normalize(e){return e.startsWith(location.origin)&&(e=e.substr(location.origin.length)),e.startsWith("//"+location.host)&&(e=e.substr(("//"+location.host).length)),e.startsWith("/")&&(e=e.substr(1)),e.endsWith("/")&&(e=e.substr(0,e.length-1)),e}},evente.Router.eventHander=function(e){let t=e.target;for(;!(t instanceof HTMLAnchorElement);)if((t=t.parentNode)instanceof HTMLDocument)return;let s=evente.getRouter(t);if(!s)return;let r=t.getAttribute("href");r&&s.handle(r,!0)&&e.preventDefault()},evente.Selector=class extends Array{constructor(e,t){if(super(),void 0!==e)switch(e.constructor.name){case"String":e.length>0&&this.push(...document.querySelectorAll(e));break;case"Array":this.push(...e);break;default:e instanceof HTMLElement&&this.push(e)}Object.defineProperty(this,"selector",{enumerable:!1,writable:!0}),this.selector=t}addClass(e){return this.classes("add",e)}attr(e,t){return this.forEach({action:"attr",name:e,value:t})}closest(e){return this.forEach({action:"closest",selector:e})}contains(e){return this.forEach({action:"contains",node:e})}end(){return this.selector}find(e){return this.forEach({action:"find",selector:e})}get(e){return this[e]}hasClass(e,t){return this.forEach({action:"hasClass",class:e,all:t})}html(e){return this.forEach({action:"html",value:e})}is(e,t){return this.forEach({action:"is",selector:e,all:t})}parent(){return this.forEach({action:"parent"})}removeClass(e){return this.classes("remove",e)}text(e){return this.forEach({action:"text",value:e})}toggleClass(e,t){return this.classes("toggle",e)}val(e){return this.forEach({action:"val",value:e})}classes(e,t,s){"string"==typeof t&&(t=t.split(" "));for(let r in this)for(let i in t)"toggle"===e?this[r].classList.toggle(t[i],s):this[r].classList[e](t[i]);return this}forEach(e){if(void 0!==e.value){for(let t in this)switch(e.action){case"attr":this[t].setAttribute(e.name,e.value);break;case"html":this[t].innerHTML=e.value;break;case"text":this[t].textContent=e.value;break;case"val":this[t]instanceof HTMLInputElement&&(this[t].value=e.value)}return this}if(0===this.length)return;let t,s,r=[];for(t in this)switch(e.action){case"attr":s=this[t].getAttribute(e.name),r.push(null!==s?s:void 0);break;case"closest":for(s=this[t].parentNode;!s.matches(e.selector);)if((s=s.parentNode)instanceof HTMLDocument){s=null;break}r.push(s);break;case"contains":if(this[t]===e.node||this[t].contains(e.node))return!0;break;case"find":r.push(...this[t].querySelectorAll(e.selector));break;case"html":r.push(this[t].innerHTML);break;case"hasClass":if(s=this[t].classList.contains(e.class),!0!==e.all){if(s)return!0}else if(!s)return!1;break;case"is":if(s=this[t].matches(e.selector),!0!==e.all){if(s)return!0}else if(!s)return!1;break;case"parent":r.push(this[t].parentNode);break;case"text":r.push(this[t].textContent);break;case"val":r.push(this[t]instanceof HTMLInputElement?this[t].value:void 0)}switch(e.action){case"contains":return!1;case"closest":case"find":case"parent":return new evente.Selector(r,this);case"hasClass":case"is":return!0===e.all;default:return r.length>1?r:r[0]}}};